# Medusa åå°æ“ä½œæ•™ç¨‹ï¼šå®¢æˆ·åˆ†å±‚æŠ˜æ‰£ä¸è¥é”€é‚®ä»¶

æœ¬æ•™ç¨‹è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ Medusa Admin åå°ä¸ºä¸åŒå®¢æˆ·å±‚çº§ï¼ˆCustomer Groupï¼‰åˆ›å»ºä¸“å±æŠ˜æ‰£ç ï¼Œå¹¶æŒ‰å±‚çº§å‘é€å®šå‘è¥é”€é‚®ä»¶ã€‚

## ç›®å½•

1. [å‰ç½®å‡†å¤‡](#å‰ç½®å‡†å¤‡)
2. [åˆ›å»ºå®¢æˆ·ç»„ (Customer Groups)](#åˆ›å»ºå®¢æˆ·ç»„-customer-groups)
3. [ä¸ºä¸åŒå±‚çº§åˆ›å»ºæŠ˜æ‰£ç ](#ä¸ºä¸åŒå±‚çº§åˆ›å»ºæŠ˜æ‰£ç )
4. [æŠ˜æ‰£ç é«˜çº§é…ç½®](#æŠ˜æ‰£ç é«˜çº§é…ç½®)
5. [æŒ‰å±‚çº§å‘é€è¥é”€é‚®ä»¶](#æŒ‰å±‚çº§å‘é€è¥é”€é‚®ä»¶)
6. [éªŒè¯ä¸æµ‹è¯•](#éªŒè¯ä¸æµ‹è¯•)
7. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## å‰ç½®å‡†å¤‡

### è®¿é—® Admin åå°

- **ç”Ÿäº§ç¯å¢ƒ**: `http://your-domain:9000/app`
- **å¼€å‘ç¯å¢ƒ**: `http://localhost:9001/app`

### ç¡®è®¤å®¢æˆ·æ•°æ®å·²å¯¼å…¥

åœ¨è¿›è¡ŒæŠ˜æ‰£é…ç½®å‰ï¼Œç¡®ä¿è¿ç§»è„šæœ¬å·²å®Œæˆä»¥ä¸‹å·¥ä½œï¼š
- å®¢æˆ·è´¦å·å·²åˆ›å»º
- å®¢æˆ·å·²æŒ‰å†å²æ¶ˆè´¹é‡‘é¢åˆ†é…åˆ°å¯¹åº”çš„ Customer Group

### å®¢æˆ·åˆ†å±‚æ ‡å‡†ï¼ˆç¤ºä¾‹ï¼‰

| å±‚çº§ | åç§° | å†å²æ¶ˆè´¹é—¨æ§› | å»ºè®®ä¼˜æƒ åŠ›åº¦ |
|:---|:---|:---|:---|
| Gold | VIP_Gold | â‰¥ $2000 | 20% off |
| Silver | VIP_Silver | â‰¥ $1000 | 15% off |
| Bronze | VIP_Bronze | < $1000 | 10% off |

---

## åˆ›å»ºå®¢æˆ·ç»„ (Customer Groups)

> å¦‚æœè¿ç§»è„šæœ¬å·²è‡ªåŠ¨åˆ›å»ºå®¢æˆ·ç»„ï¼Œå¯è·³è¿‡æ­¤æ­¥éª¤ã€‚

### æ­¥éª¤ 1ï¼šè¿›å…¥å®¢æˆ·ç»„ç®¡ç†

1. ç™»å½• Medusa Admin åå°
2. å·¦ä¾§èœå•ç‚¹å‡» **Customers**
3. ç‚¹å‡»é¡¶éƒ¨ **Groups** æ ‡ç­¾é¡µ

### æ­¥éª¤ 2ï¼šåˆ›å»ºæ–°å®¢æˆ·ç»„

1. ç‚¹å‡»å³ä¸Šè§’ **Create Group** æŒ‰é’®
2. å¡«å†™ç»„ä¿¡æ¯ï¼š
   - **Name**: `VIP_Gold`ï¼ˆä½¿ç”¨æ¸…æ™°çš„å‘½åï¼Œä¾¿äºåç»­è¯†åˆ«ï¼‰
3. ç‚¹å‡» **Create** ä¿å­˜

### æ­¥éª¤ 3ï¼šé‡å¤åˆ›å»ºå…¶ä»–å±‚çº§

ä¾æ¬¡åˆ›å»ºï¼š
- `VIP_Silver`
- `VIP_Bronze`

### æ­¥éª¤ 4ï¼šå‘å®¢æˆ·ç»„æ·»åŠ æˆå‘˜

1. ç‚¹å‡»è¿›å…¥æŸä¸ªå®¢æˆ·ç»„ï¼ˆå¦‚ `VIP_Gold`ï¼‰
2. ç‚¹å‡» **Add Customers** æŒ‰é’®
3. æœç´¢å¹¶å‹¾é€‰ç›®æ ‡å®¢æˆ·çš„ Email
4. ç‚¹å‡» **Add** ç¡®è®¤

> **æç¤º**: æ‰¹é‡æ·»åŠ å»ºè®®ä½¿ç”¨è¿ç§»è„šæœ¬çš„ API æ–¹å¼ï¼ŒAdmin ç•Œé¢é€‚åˆå°‘é‡æ‰‹åŠ¨è°ƒæ•´ã€‚

---

## ä¸ºä¸åŒå±‚çº§åˆ›å»ºæŠ˜æ‰£ç 

### æ­¥éª¤ 1ï¼šè¿›å…¥æŠ˜æ‰£ç®¡ç†

1. å·¦ä¾§èœå•ç‚¹å‡» **Discounts**
2. ç‚¹å‡»å³ä¸Šè§’ **Create Discount** æŒ‰é’®

### æ­¥éª¤ 2ï¼šé€‰æ‹©æŠ˜æ‰£ç±»å‹

Medusa æ”¯æŒå¤šç§æŠ˜æ‰£ç±»å‹ï¼š

| ç±»å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|:---|:---|:---|
| **Percentage** | ç™¾åˆ†æ¯”æŠ˜æ‰£ | å¦‚ 20% off |
| **Fixed Amount** | å›ºå®šé‡‘é¢æŠ˜æ‰£ | å¦‚ $50 off |
| **Free Shipping** | å…è¿è´¹ | è¿è´¹å‡å…ä¿ƒé”€ |

é€‰æ‹© **Percentage** æˆ– **Fixed Amount**ï¼ˆæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼‰

### æ­¥éª¤ 3ï¼šé…ç½® Gold å±‚çº§æŠ˜æ‰£ç 

#### åŸºç¡€è®¾ç½®

| å­—æ®µ | å€¼ | è¯´æ˜ |
|:---|:---|:---|
| **Code** | `GOLD-20OFF` | å®¢æˆ·ç»“è´¦æ—¶è¾“å…¥çš„ä»£ç ï¼Œå»ºè®®ä½¿ç”¨æ˜“è®°çš„å“ç‰ŒåŒ–å‘½å |
| **Description** | Gold VIP ä¸“å± 20% æŠ˜æ‰£ | å†…éƒ¨å¤‡æ³¨ï¼Œä¾¿äºç®¡ç† |
| **Value** | `20` | æŠ˜æ‰£æ•°å€¼ï¼ˆç™¾åˆ†æ¯”å¡« 20 è¡¨ç¤º 20%ï¼‰ |

#### é…ç½®è¯¦æƒ… (Configuration)

| å­—æ®µ | æ¨èè®¾ç½® | è¯´æ˜ |
|:---|:---|:---|
| **Start Date** | æ´»åŠ¨å¼€å§‹æ—¥æœŸ | æŠ˜æ‰£ç ç”Ÿæ•ˆæ—¶é—´ |
| **End Date** | æ´»åŠ¨ç»“æŸæ—¥æœŸ | æŠ˜æ‰£ç å¤±æ•ˆæ—¶é—´ |
| **Usage Limit** | ç•™ç©ºï¼ˆä¸é™ï¼‰ | æ€»ä½¿ç”¨æ¬¡æ•°é™åˆ¶ |
| **Limit per Customer** | âœ… å¼€å¯ | **é‡è¦**: æ¯äººé™ç”¨ä¸€æ¬¡ï¼Œé˜²æ­¢é‡å¤ä½¿ç”¨ |

### æ­¥éª¤ 4ï¼šè®¾ç½®æ¡ä»¶é™åˆ¶ (Conditions) - æ ¸å¿ƒé…ç½®

ç‚¹å‡» **Add Condition** æŒ‰é’®ï¼Œä¾æ¬¡é…ç½®ï¼š

#### æ¡ä»¶ 1ï¼šç»‘å®šå®¢æˆ·ç»„

1. é€‰æ‹© **Customer Groups**
2. æœç´¢å¹¶é€‰ä¸­ `VIP_Gold`
3. ç‚¹å‡» **Save**

> **å®‰å…¨æœºåˆ¶**: åªæœ‰ `VIP_Gold` ç»„å†…çš„å®¢æˆ·æ‰èƒ½æˆåŠŸä½¿ç”¨æ­¤æŠ˜æ‰£ç ã€‚å³ä½¿æŠ˜æ‰£ç æ³„éœ²ï¼Œéç»„å†…æˆå‘˜ä½¿ç”¨æ—¶ä¼šæç¤º"æŠ˜æ‰£ç æ— æ•ˆ"ã€‚

#### æ¡ä»¶ 2ï¼šæŒ‡å®šé€‚ç”¨äº§å“ï¼ˆå¯é€‰ï¼‰

1. é€‰æ‹© **Products**
2. æœç´¢å¹¶å‹¾é€‰é€‚ç”¨çš„äº§å“
3. ç‚¹å‡» **Save**

> **æç¤º**: å¦‚æœå¸Œæœ›æŠ˜æ‰£é€‚ç”¨äºå…¨éƒ¨äº§å“ï¼Œå¯è·³è¿‡æ­¤æ¡ä»¶ã€‚

#### æ¡ä»¶ 3ï¼šæŒ‡å®šäº§å“é›†åˆï¼ˆå¯é€‰ï¼‰

1. é€‰æ‹© **Collections**
2. é€‰ä¸­é€‚ç”¨çš„äº§å“é›†åˆï¼ˆå¦‚"æ–°å“ä¸“åŒº"ï¼‰
3. ç‚¹å‡» **Save**

### æ­¥éª¤ 5ï¼šä¿å­˜æŠ˜æ‰£ç 

ç¡®è®¤æ‰€æœ‰é…ç½®æ— è¯¯åï¼Œç‚¹å‡» **Create Discount** å®Œæˆåˆ›å»ºã€‚

### æ­¥éª¤ 6ï¼šåˆ›å»ºå…¶ä»–å±‚çº§æŠ˜æ‰£ç 

é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œä¸º Silver å’Œ Bronze å±‚çº§åˆ›å»ºæŠ˜æ‰£ç ï¼š

| å±‚çº§ | Code | Value | Customer Group |
|:---|:---|:---|:---|
| Gold | `GOLD-20OFF` | 20% | VIP_Gold |
| Silver | `SILVER-15OFF` | 15% | VIP_Silver |
| Bronze | `BRONZE-10OFF` | 10% | VIP_Bronze |

---

## æŠ˜æ‰£ç é«˜çº§é…ç½®

### é…ç½®æœ€ä½æ¶ˆè´¹é—¨æ§›

åœ¨æŠ˜æ‰£ç¼–è¾‘é¡µé¢ï¼š
1. æ‰¾åˆ° **Minimum Requirements** éƒ¨åˆ†
2. é€‰æ‹© **Minimum cart subtotal**
3. è¾“å…¥é‡‘é¢ï¼ˆå¦‚ $100ï¼‰

### é…ç½®æœ€å¤§æŠ˜æ‰£é‡‘é¢

å¯¹äºç™¾åˆ†æ¯”æŠ˜æ‰£ï¼Œå¯è®¾ç½®å°é¡¶é‡‘é¢ï¼š
1. æ‰¾åˆ° **Maximum Discount Amount** é€‰é¡¹
2. è¾“å…¥å°é¡¶é‡‘é¢ï¼ˆå¦‚ $200ï¼‰

### ç»„åˆå¤šä¸ªæ¡ä»¶

ä¸€ä¸ªæŠ˜æ‰£ç å¯ä»¥åŒæ—¶æ»¡è¶³å¤šä¸ªæ¡ä»¶ï¼ˆAND é€»è¾‘ï¼‰ï¼š
- Customer Group = VIP_Gold **ä¸”**
- Product = æŒ‡å®šäº§å“ **ä¸”**
- è®¢å•é‡‘é¢ â‰¥ $100

### åŒºåŸŸ/æ¸ é“é™åˆ¶

å¦‚æœä½¿ç”¨å¤šåŒºåŸŸ/å¤šé”€å”®æ¸ é“ï¼š
1. åœ¨ Conditions ä¸­é€‰æ‹© **Sales Channels**
2. é€‰ä¸­é€‚ç”¨çš„é”€å”®æ¸ é“

---

## æŒ‰å±‚çº§å‘é€è¥é”€é‚®ä»¶

### é‚®ä»¶å‘é€ç­–ç•¥

ç”±äº Medusa åŸç”Ÿä¸åŒ…å«é‚®ä»¶è¥é”€æ¨¡å—ï¼Œæ¨èä»¥ä¸‹æ–¹å¼ï¼š

| æ–¹å¼ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|:---|:---|:---|
| **ç¬¬ä¸‰æ–¹é‚®ä»¶æœåŠ¡** | Mailchimpã€SendGridã€Brevo ç­‰ | ä¸“ä¸šè¥é”€ã€å¤§æ‰¹é‡å‘é€ |
| **è‡ªå»ºé‚®ä»¶è„šæœ¬** | ä½¿ç”¨ Nodemailer + æ¨¡æ¿å¼•æ“ | çµæ´»å®šåˆ¶ã€æˆæœ¬å¯æ§ |
| **Medusa é€šçŸ¥æ¨¡å—** | æ‰©å±• Notification Service | æ·±åº¦é›†æˆã€äº‹ä»¶é©±åŠ¨ |

### æ–¹å¼ä¸€ï¼šå¯¼å‡ºå®¢æˆ·åˆ—è¡¨åˆ°ç¬¬ä¸‰æ–¹é‚®ä»¶æœåŠ¡

#### æ­¥éª¤ 1ï¼šå¯¼å‡ºå„å±‚çº§å®¢æˆ· Email

åœ¨ Admin åå°æˆ–é€šè¿‡ API è·å–å„ç»„å®¢æˆ·åˆ—è¡¨ï¼š

```bash
# é€šè¿‡ API è·å– VIP_Gold ç»„çš„å®¢æˆ·
curl -X GET "http://localhost:9000/admin/customer-groups/{group_id}/customers" \
  -H "Authorization: Bearer {admin_token}"
```

#### æ­¥éª¤ 2ï¼šåœ¨é‚®ä»¶æœåŠ¡ä¸­åˆ›å»ºåˆ†ç»„

1. ç™»å½• Mailchimp/SendGrid ç­‰å¹³å°
2. åˆ›å»ºä¸‰ä¸ªè”ç³»äººåˆ—è¡¨ï¼šGoldã€Silverã€Bronze
3. å¯¼å…¥å¯¹åº”çš„å®¢æˆ· Email

#### æ­¥éª¤ 3ï¼šè®¾è®¡åˆ†å±‚é‚®ä»¶æ¨¡æ¿

**Gold å±‚çº§é‚®ä»¶æ¨¡æ¿ç¤ºä¾‹**:

```
ä¸»é¢˜ï¼šå°Šæ•¬çš„ VIP å®¢æˆ·ï¼Œæ‚¨çš„ä¸“å± 20% æŠ˜æ‰£å·²åˆ°è´¦

äº²çˆ±çš„ {{first_name}}ï¼Œ

æ„Ÿè°¢æ‚¨ä¸€ç›´ä»¥æ¥å¯¹æˆ‘ä»¬çš„æ”¯æŒï¼ä½œä¸ºæˆ‘ä»¬çš„å°Šè´µ Gold VIP å®¢æˆ·ï¼Œ
æˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡äº†ä¸“å±ä¼˜æƒ ï¼š

ğŸ ä¸“å±ä¼˜æƒ ç ï¼šGOLD-20OFF
ğŸ’° ä¼˜æƒ åŠ›åº¦ï¼šå…¨åœº 20% OFF
ğŸ“… æœ‰æ•ˆæœŸï¼š2026å¹´1æœˆ1æ—¥ - 2026å¹´3æœˆ31æ—¥
ğŸ›’ é€‚ç”¨èŒƒå›´ï¼šæŒ‡å®šäº§å“

ã€ç«‹å³ç™»å½•æ–°ç³»ç»Ÿäº«å—ä¼˜æƒ ã€‘
ç™»å½•æ–¹å¼ï¼šè¾“å…¥æ‚¨çš„é‚®ç®± â†’ æ¥æ”¶éªŒè¯ç  â†’ ç™»å½•æˆåŠŸ
ä¹Ÿå¯ä½¿ç”¨ Google è´¦å·ä¸€é”®ç™»å½•

[ç«‹å³è´­ç‰©] æŒ‰é’®é“¾æ¥

ç¥æ‚¨è´­ç‰©æ„‰å¿«ï¼
```

**Silver å±‚çº§é‚®ä»¶æ¨¡æ¿ç¤ºä¾‹**:

```
ä¸»é¢˜ï¼šä¸“å±ç¦åˆ© | 15% æŠ˜æ‰£ç­‰æ‚¨é¢†å–

äº²çˆ±çš„ {{first_name}}ï¼Œ

æ„Ÿè°¢æ‚¨å¯¹æˆ‘ä»¬çš„ä¿¡ä»»ï¼ä½œä¸º Silver VIP å®¢æˆ·ï¼Œ
æˆ‘ä»¬ä¸ºæ‚¨é€ä¸Šä¸“å±ä¼˜æƒ ï¼š

ğŸ ä¸“å±ä¼˜æƒ ç ï¼šSILVER-15OFF
ğŸ’° ä¼˜æƒ åŠ›åº¦ï¼šå…¨åœº 15% OFF
ğŸ“… æœ‰æ•ˆæœŸï¼š2026å¹´1æœˆ1æ—¥ - 2026å¹´3æœˆ31æ—¥

[ç«‹å³è´­ç‰©] æŒ‰é’®é“¾æ¥
```

**Bronze å±‚çº§é‚®ä»¶æ¨¡æ¿ç¤ºä¾‹**:

```
ä¸»é¢˜ï¼šè€å®¢æˆ·ä¸“äº« | 10% æ¬¢è¿å›å½’ä¼˜æƒ 

äº²çˆ±çš„ {{first_name}}ï¼Œ

å¥½ä¹…ä¸è§ï¼æˆ‘ä»¬å·²ä¸ºæ‚¨ä¿ç•™è´¦å·ï¼Œå¹¶å‡†å¤‡äº†ä¸“å±ä¼˜æƒ ï¼š

ğŸ ä¸“å±ä¼˜æƒ ç ï¼šBRONZE-10OFF
ğŸ’° ä¼˜æƒ åŠ›åº¦ï¼šå…¨åœº 10% OFF
ğŸ“… æœ‰æ•ˆæœŸï¼š2026å¹´1æœˆ1æ—¥ - 2026å¹´3æœˆ31æ—¥

[ç«‹å³è´­ç‰©] æŒ‰é’®é“¾æ¥
```

### æ–¹å¼äºŒï¼šè‡ªå»ºé‚®ä»¶å‘é€è„šæœ¬

```typescript
import nodemailer from "nodemailer"
import Medusa from "@medusajs/js-sdk"

const client = new Medusa({ baseUrl: "http://localhost:9000" })

// é‚®ä»¶æ¨¡æ¿é…ç½®
const emailTemplates = {
  VIP_Gold: {
    subject: "å°Šæ•¬çš„ VIP å®¢æˆ·ï¼Œæ‚¨çš„ä¸“å± 20% æŠ˜æ‰£å·²åˆ°è´¦",
    code: "GOLD-20OFF",
    discount: "20%",
  },
  VIP_Silver: {
    subject: "ä¸“å±ç¦åˆ© | 15% æŠ˜æ‰£ç­‰æ‚¨é¢†å–",
    code: "SILVER-15OFF",
    discount: "15%",
  },
  VIP_Bronze: {
    subject: "è€å®¢æˆ·ä¸“äº« | 10% æ¬¢è¿å›å½’ä¼˜æƒ ",
    code: "BRONZE-10OFF",
    discount: "10%",
  },
}

// é…ç½®é‚®ä»¶ä¼ è¾“
const transporter = nodemailer.createTransport({
  host: "smtp.example.com",
  port: 587,
  auth: {
    user: process.env.SMTP_USER,
    pass: process.env.SMTP_PASS,
  },
})

async function sendTierEmails(groupName: string, groupId: string) {
  const template = emailTemplates[groupName]

  // è·å–ç»„å†…æ‰€æœ‰å®¢æˆ·
  const { customers } = await client.admin.customerGroups.listCustomers(groupId)

  for (const customer of customers) {
    const html = `
      <h2>äº²çˆ±çš„ ${customer.first_name}ï¼Œ</h2>
      <p>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼æ‚¨çš„ä¸“å±ä¼˜æƒ ç ï¼š</p>
      <div style="background:#f5f5f5;padding:20px;text-align:center;">
        <h1 style="color:#e91e63;">${template.code}</h1>
        <p>ä¼˜æƒ åŠ›åº¦ï¼š${template.discount} OFF</p>
      </div>
      <p>æœ‰æ•ˆæœŸè‡³ï¼š2026å¹´3æœˆ31æ—¥</p>
      <a href="https://your-store.com" style="display:inline-block;padding:12px 24px;background:#1976d2;color:white;text-decoration:none;">ç«‹å³è´­ç‰©</a>
    `

    await transporter.sendMail({
      from: '"Your Store" <noreply@your-store.com>',
      to: customer.email,
      subject: template.subject,
      html,
    })

    console.log(`é‚®ä»¶å·²å‘é€: ${customer.email}`)
  }
}

// æŒ‰å±‚çº§å‘é€
async function main() {
  const groups = await client.admin.customerGroups.list()

  for (const group of groups.customer_groups) {
    if (emailTemplates[group.name]) {
      await sendTierEmails(group.name, group.id)
    }
  }
}

main()
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Medusa é€šçŸ¥æœåŠ¡ï¼ˆé«˜çº§ï¼‰

æ‰©å±• Medusa çš„ Notification Serviceï¼Œç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ï¼š

```typescript
// src/services/email-campaign.ts
import { NotificationService } from "@medusajs/medusa"

class EmailCampaignService extends NotificationService {
  static identifier = "email-campaign"

  async sendNotification(event, data, attachmentGenerator) {
    // å®ç°é‚®ä»¶å‘é€é€»è¾‘
  }
}

export default EmailCampaignService
```

---

## éªŒè¯ä¸æµ‹è¯•

### æµ‹è¯•æŠ˜æ‰£ç æœ‰æ•ˆæ€§

#### æµ‹è¯• 1ï¼šæ­£å¸¸ä½¿ç”¨

1. ä½¿ç”¨ Gold å±‚çº§å®¢æˆ·è´¦å·ç™»å½•
2. æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
3. ç»“è´¦æ—¶è¾“å…¥ `GOLD-20OFF`
4. ç¡®è®¤æŠ˜æ‰£æ­£ç¡®åº”ç”¨ï¼ˆ20% offï¼‰

#### æµ‹è¯• 2ï¼šè·¨å±‚çº§ä½¿ç”¨ï¼ˆåº”å¤±è´¥ï¼‰

1. ä½¿ç”¨ Bronze å±‚çº§å®¢æˆ·è´¦å·ç™»å½•
2. å°è¯•ä½¿ç”¨ `GOLD-20OFF`
3. åº”æç¤º"æŠ˜æ‰£ç æ— æ•ˆ"æˆ–"æ‚¨ä¸ç¬¦åˆä½¿ç”¨æ¡ä»¶"

#### æµ‹è¯• 3ï¼šè¿‡æœŸæµ‹è¯•

1. ä¿®æ”¹æŠ˜æ‰£ç  End Date ä¸ºè¿‡å»æ—¥æœŸ
2. å°è¯•ä½¿ç”¨æŠ˜æ‰£ç 
3. åº”æç¤º"æŠ˜æ‰£ç å·²è¿‡æœŸ"

#### æµ‹è¯• 4ï¼šé‡å¤ä½¿ç”¨ï¼ˆåº”å¤±è´¥ï¼‰

1. é¦–æ¬¡ä½¿ç”¨æŠ˜æ‰£ç å®Œæˆè®¢å•
2. å†æ¬¡å°è¯•ä½¿ç”¨åŒä¸€æŠ˜æ‰£ç 
3. åº”æç¤º"æŠ˜æ‰£ç å·²ä½¿ç”¨"

### æµ‹è¯• API æ£€æŸ¥

```bash
# æ£€æŸ¥æŠ˜æ‰£ç è¯¦æƒ…
curl -X GET "http://localhost:9000/admin/discounts" \
  -H "Authorization: Bearer {admin_token}"

# æ£€æŸ¥å®¢æˆ·ç»„æˆå‘˜
curl -X GET "http://localhost:9000/admin/customer-groups/{group_id}/customers" \
  -H "Authorization: Bearer {admin_token}"
```

---

## å¸¸è§é—®é¢˜

### Q1: æŠ˜æ‰£ç è¢«æ³„éœ²ç»™éç›®æ ‡å®¢æˆ·æ€ä¹ˆåŠï¼Ÿ

**A**: æ— éœ€æ‹…å¿ƒã€‚ç”±äºæŠ˜æ‰£ç ç»‘å®šäº† Customer Groupï¼Œåªæœ‰ç»„å†…å®¢æˆ·æ‰èƒ½æˆåŠŸä½¿ç”¨ã€‚éç»„å†…æˆå‘˜ä½¿ç”¨æ—¶ä¼šæç¤º"æŠ˜æ‰£ç æ— æ•ˆ"ã€‚

### Q2: å¦‚ä½•æ‰¹é‡æ·»åŠ å®¢æˆ·åˆ° Customer Groupï¼Ÿ

**A**: å»ºè®®ä½¿ç”¨ API è„šæœ¬ï¼š

```typescript
await client.admin.customerGroups.addCustomers(groupId, {
  customer_ids: ["cus_xxx", "cus_yyy", "cus_zzz"]
})
```

### Q3: å¦‚ä½•ä¿®æ”¹å·²åˆ›å»ºçš„æŠ˜æ‰£ç ï¼Ÿ

**A**:
1. è¿›å…¥ **Discounts** é¡µé¢
2. ç‚¹å‡»ç›®æ ‡æŠ˜æ‰£ç 
3. ä¿®æ”¹æ‰€éœ€å­—æ®µ
4. ç‚¹å‡» **Save** ä¿å­˜

### Q4: ä¸€ä¸ªå®¢æˆ·å¯ä»¥å±äºå¤šä¸ª Customer Group å—ï¼Ÿ

**A**: å¯ä»¥ã€‚ä¸€ä¸ªå®¢æˆ·å¯ä»¥åŒæ—¶å±äºå¤šä¸ªç»„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ªä¸åŒçš„æŠ˜æ‰£ç ï¼ˆåªè¦æ¯ä¸ªç çš„"æ¯äººé™ç”¨ä¸€æ¬¡"åˆ†åˆ«è®¡ç®—ï¼‰ã€‚

### Q5: å¦‚ä½•æŸ¥çœ‹æŠ˜æ‰£ç ä½¿ç”¨æƒ…å†µï¼Ÿ

**A**:
1. è¿›å…¥ **Discounts** é¡µé¢
2. ç‚¹å‡»ç›®æ ‡æŠ˜æ‰£ç 
3. æŸ¥çœ‹ **Usage** ç»Ÿè®¡ä¿¡æ¯

### Q6: é‚®ä»¶å‘é€åå®¢æˆ·æ²¡æ”¶åˆ°æ€ä¹ˆåŠï¼Ÿ

**A**:
1. æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
2. ç¡®è®¤ SMTP é…ç½®æ­£ç¡®
3. æŸ¥çœ‹é‚®ä»¶æœåŠ¡å•†çš„å‘é€æ—¥å¿—
4. ç¡®ä¿å‘ä»¶äººåŸŸåå·²é…ç½® SPF/DKIM è®°å½•

---

## ç›¸å…³æ–‡æ¡£

- [WordPress è€å®¢æˆ·è¿ç§»æ–¹æ¡ˆ](./wordpress-to-medusa-customer-migration.md)
- [å®šå‘å®¢æˆ·ä¼˜æƒ åˆ¸å‘æ”¾æ–¹æ¡ˆ](./medusa-targeted-discount-plan.md)
- [é‚®ä»¶éªŒè¯ç ç™»å½•æ–¹æ¡ˆ](./email-otp-login-plan.md)
- [Medusa å®˜æ–¹æ–‡æ¡£ - Discounts](https://docs.medusajs.com/modules/discounts)
- [Medusa å®˜æ–¹æ–‡æ¡£ - Customer Groups](https://docs.medusajs.com/modules/customers/customer-groups)
